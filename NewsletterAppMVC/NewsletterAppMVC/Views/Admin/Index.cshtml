@using NewsletterAppMVC.ViewModels
@model List<SignUpVm>

<div class="row no-gutters m-3">
    <div class="card col-sm-12 col-md-10 col-lg-6 mx-auto shadow">
        <div class="card-header text-center">
            <h5 class="m-0">Sign-ups</h5>
        </div>
        <div class="card-body">
            @foreach (var signup in Model)
             {
                using (Html.BeginForm("Unsubscribe", "Admin", FormMethod.Post))
                {
                <!--when Unsubscribe button is clicked, the Id associated to the Unsubscribe button
                    is submitted upon click to the Unsubscribe method in the Admin Controller
                    this input is hidden, but automatically routed correctly by what button is clicked-->
                    <input type="hidden" name="Id" value="@signup.Id" />
                    <!--show subscribers-->
                    <div class="row mb-3">
                        <div class="col-2">
                            @signup.FirstName
                        </div>
                        <div class="col">
                            @signup.LastName
                        </div>
                        <div class="col-4">
                            @signup.EmailAddress
                        </div>
                        <div class="col">
                            <button type="submit" class="btn btn-danger btn-block">
                                Unsubscribe
                            </button>
                        </div>
                    </div>
                }
             }
        </div>
    </div>

</div>